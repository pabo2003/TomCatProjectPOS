<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1>AJAX Example Project</h1>
<p id="para"> This is an example project for ajax</p>
<button id="ajax-button">Send a Ajax Request</button>
<br><br>
<table class="table table-bordered table-striped mt-3" border="1">
    <thead>
    <tr>
        <th>Id</th>
        <th>Name</th>
        <th>Post Id</th>
        <th>Email</th>
        <th>Body</th>
    </tr>
    </thead>
    <tbody id="tblbody">
    </tbody>
</table>
<script src="assests/Js/jquery-3.7.1.min.js.js"></script>
<!--<script>
    $('#ajax-button').click(function () {
        // console.log("Button is worked");
        console.log("Request started");
        var http = new XMLHttpRequest();

        /*console.log(http.status,"After the XMLHttpRequest object created");*/
        console.log(http.readyState,"After the XMLHttpRequest object created");
        http.open('GET','DB/db.txt');
        /*console.log(http.status,"After the Open method invoked");*/
        console.log(http.readyState,"After the Open method invoked");
        //XMLHttpRequest open method required two required arguments (method and url)
        //method - purpose of the request(GET , POST , PUT , DELETE , etc..........)
        //url - destination of the request
        console.log(http.responseText);
        /*console.log(http.status,"After ths response text printed");*/
        console.log(http.readyState,"After ths response text printed");
        http.send();
        /*console.log(http.status,"After the SEND method invoked");*/
        console.log(http.readyState,"After the SEND method invoked");
        http.onreadystatechange = function () {
            // console.log("test");
            console.log(http.readyState,"Inside on ready state change event");
            console.log(http.responseText);
            console.log(http.status);
            if (http.status == 200 && http.readyState == 4){
                // $('#para').text(http.responseText);
                $('#para').html('<img src="images/item2.jpg"/>');
            }


        }
        console.log("Request finished");
        //status - 200 - ok
        //       - 404 - not found

    })

    //https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods   (pdf ek)
</script>-->
<!--<script>
    //synchronous
    console.log("start");
    console.log("middle");
    console.log("end");

    //asynchronous
    console.log("start");
    setTimeout(()=>{
        console.log("middle");
    },2000); //callback que ekt gihin ek event room ekk haraha wenama run wenw anith dek wenm run wenw
    console.log("end");
</script>-->
<!--<script>
    $('#ajax-button').click(function () {
        console.log("Request started");
        var http = new XMLHttpRequest();
        http.open('GET','DB/db.txt',false);
        http.send();
        http.onreadystatechange = function () {
            if (http.status == 200 && http.readyState == 4){
                $('#para').text(http.responseText);
                console.log(http.responseText);
            }
        }
        console.log("Request Finished");
    })
</script>-->
<!--<script>
    $('#ajax-button').click(function (){

        console.log("Request started!")

        /* var http = new XMLHttpRequest();
         http.open('GET','../db/db.txt');
         http.send();
             http.onreadystatechange = function (){
                 console.log(http.responseText);
                 if(http.status == 200 && http.readyState == 4){
                     $('#para').text(http.responseText);
                     $('#img').attr('src','../images/1731391011884 (1).jpg')
                 }
             }*/


        $.ajax({
            url:'https://jsonplaceholder.typicode.com/comments',
            method:'GET',
            async:false,
            success:function (response){
                console.log(response);
                //$('#para').text(response);
                const tblrow = `
                 <tr>
                <td>${response.id}</td>
                <td>${response.name}</td>
                <td>${response.postId}</td>
                <td>${response.email}</td>
                <td>${response.body}</td>
            </tr>
                `;
                $('#tbody').append(tblrow);
            },error:function (error){
                console.log(error);
            }
        })
        console.log("Request Finished!");
    })
</script>-->
<!--<script>

    /*  //synchronous
      console.log("start!");
      console.log("middle!");
      console.log("end!");

      //asynchronous
      console.log("start!");
      setTimeout(() => {  //time counserving
          console.log("middle!");
      },2000)
      console.log("end!");*/
</script>-->
<!--<script>
    $('#ajax-button').click(function (){

        console.log("Request started!")

        /* var http = new XMLHttpRequest();
         http.open('GET','../db/db.txt');
         http.send();
             http.onreadystatechange = function (){
                 console.log(http.responseText);
                 if(http.status == 200 && http.readyState == 4){
                     $('#para').text(http.responseText);
                     $('#img').attr('src','../images/1731391011884 (1).jpg')
                 }
             }*/


        $.ajax({
            url:'http://localhost:8080/HelloServer_Web_exploded/hello',
            method:'GET',
            async:false,
            success:function (response){
                $("#table-body").empty();

                console.log(response);

                response.forEach(data1 => {
                    let data =` <tr>
                    <td>${data1.id}</td>
                    <td>${data1.name}</td>
                    <td>${data1.postId}</td>
                    <td>${data1.email}</td>
                    <td>${data1.body}</td>
                  </tr>`


                    $("#tblbody").append(data);
                })
            },

            error: function (error) {
                console.log(error);
            },

        })
        console.log("end");
    })
</script>-->
<script>
    $.ajax({
        url:'http://localhost:8080/HelloServer_Web_exploded/hello',
        method:'GET',
        async:true,
        success:function (response){
            console.log(response);

        },error:function (error){
            console.log(error);
        }
    })
</script>
<script>

    /*  //synchronous
      console.log("start!");
      console.log("middle!");
      console.log("end!");

      //asynchronous
      console.log("start!");
      setTimeout(() => {  //time counserving
          console.log("middle!");
      },2000)
      console.log("end!");*/
</script>
</body>
</html>
</body>
</html>